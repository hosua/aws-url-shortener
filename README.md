# AWS URL Shortener

This project is a simple URL shortener that is deployed as a CloudFormation Stack using the AWS CDK.
It should serve as a useful example to get started with CDK.

### Getting Started

You can setup and deploy the stack with `./setup.sh`.

### Getting Started (step-by-step)

However, if you'd prefer to go step by step, follow the instructions below:

1. First, you'll want to make sure that you have the aws cdk installed. 

    If you use `npm`, you can do a global install with: 

        npm install -g aws-cdk

2. Run `npm install` to install all packages

3. Next, build the frontend files with `npm run build:frontend`

4. If you haven't the `cdk` before, you'll need to initialize `cdk` in AWS with:

        npx run cdk bootstrap

    This will create a bucket in s3.

5. Finally, run `npm run deploy` to deploy the stack to AWS. Type `y` to confirm when prompted.

Once it is deployed, you can view the app via the `CloudFrontDistributionUrl`.
You should see it in the outputs when the deployment finishes. 

https://github.com/user-attachments/assets/50aab375-2039-4f75-95f8-52432faf581c

### Some notes

Since this app is serverless, keeping it running will not cost too much under
normal circumstances as you will only be charged based on usage and storage.

Leaving this running will probably cost you < $1 USD/month to run unless a lot
of people end up using it. Storing URLs does not use a lot of space, so pretty
much all of the cost will be from usage.

If you decide to modify any of the frontend files, `npm run deploy` (or `npx
cdk deploy`) will not detect changes in the frontend. To update the frontend,
you'll need run `npm run build:frontend`, then `npm run deploy:frontend` script
which will reupload the `dist` files to s3.

### Architecture

![url-shortener](images/url-shortener-diagram.webp)

### Deleting the Stack

If you would like to delete all resources generated by the CDK, simply navigate to CloudFormation on AWS and delete the stack. This should remove everything that was created.
